#  引用
---
语法：数据类型 &别名 = 原名
```c++
int a = 10;
int &b = a;
b = 20;

cout<<a<<endl;//20
```

### 引用注意事项
- 引用必须初始化
  ```c++
  int &b;//错误的
  ```
- 在初始化后，不可以改变
  ```c++
  int a =10;
  int &b=a;
  int c=20;
  b=c//赋值操作，而不是更改引用

	```

### 引用做函数参数

**作用**：在函数传参时，可以利用引用的技术让形参修饰实参
**优点**：可以简化指针修改实参

```c++
// 1.值传递(略) a和b并不会交换

void swap1(int a,int b){
}
// 2.地址传递

void swap2(int* a,int* b){
int tmp;
tmp=*a;
*a=*b;
*b=tmp;
}

// 3.引用传递

void swap3(int &a,int &b){
int tmp;
tmp=a;
a=b;
b=tmp;
}
```


### 引用做函数的返回值

**作用**：引用是可以作为函数返回值的存在

**注意**：不要返回局部变量引用
**用法**：函数调用作为左值

```c++
int& test01(){
	int a = 10;//局部变量，存在栈区
	return a;
}

int& test02(){
   static int a =10;
   return a ;
}

int main(){
  int &ref=test02();
  test02()=1000;//ref值变为1000
  
}
```

### 引用的本质
本质：引用的本质在C++内部实现一个指针常量

**指针常量**：指针是常量，是一个指向不可改，值可改的指针

```c++
//发现是引用，转换为int * const ref = &a;
void func(int& ref){
  ref=100;
}

int main(){
   int a = 10;
//自动转化为int * const ref =&a;
   int& ref=a;
   ref=20;//转换*ref=20
}
```

### 常量引用
作用：常量引用主要用来修饰形参，防止误操作

在函数形参列表中，可以加`const`修饰形参，防止形参改变实参

```c++

int& showVal(const int& val){
  val=1000;//报错
  return val;
}
int main(){
int a =10;
int& ref =10; //报错；引用本身需要一个合法的内存空间

const int& ref =10;
//加入const之后，编译器将代码修改：int tmp=10; const int& ref=tmp;
ref=20;//报错，加入const，只读不可修改

int a=10;
showVal(a);
}
```

