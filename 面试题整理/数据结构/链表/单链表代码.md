```C++

#include <iostream>
#include <vector>
using namespace std;
class singleLinkedList
{
public:
    singleLinkedList *next;
    int data;

    singleLinkedList(int data, singleLinkedList *next) : data(data), next(next) {}
    singleLinkedList(int data) : data(data), next(nullptr) {}
    singleLinkedList() : data(0), next(nullptr) {}


    
    singleLinkedList(const singleLinkedList* &list){
        //摘取头节点
        singleLinkedList* dummyHead = new singleLinkedList();
        singleLinkedList* head = dummyHead;
        list = list->next;
        while(list){
            singleLinkedList* tmp = new singleLinkedList(list->data,nullptr);
            head->next = tmp;
            head = tmp;
            list = list->next;
        }
    }
  
    ~singleLinkedList(){
        delete next;
    }

};
// 创建链表
    singleLinkedList *createList(singleLinkedList *dummyHead, vector<int> nums)
    {
        // 创建一个虚拟头节点
        singleLinkedList *tmp = dummyHead;
        for (auto num : nums)
        {
            singleLinkedList *node = new singleLinkedList(num);
            tmp->next = node;
            tmp = node;
        }

        return dummyHead;
    }
    // 删除链表中值为val的元素
    singleLinkedList *removeElements(singleLinkedList *head, int val)
    {
        if (head->next == nullptr)
            return head;
        singleLinkedList *cur = head->next;
        singleLinkedList *pre = head;
        while (cur != nullptr)
        {
            if (cur->data == val)
            {
                pre->next = cur->next;
                cur->next = nullptr;
                cur = pre->next;
            }
            else
            {
                cur = cur->next;
                pre = pre->next;
            }
        }

        return head;
    }

    // 插入元素
    singleLinkedList *insertElement(singleLinkedList *head, int n, int val)
    {
        if(n<0){
            return head;
        }

        singleLinkedList* tmp = head;
        while(--n){
            tmp = tmp->next;
        }

        singleLinkedList* node = new singleLinkedList(val);
        node->next = tmp->next->next;
        tmp->next = node;
        return head;
    }

    // 删除链表倒数第n的节点
    // 双指针  fast比slow先走n步，等fast走到头，slow刚好是目标节点

    singleLinkedList *removeLastNElement(singleLinkedList *head, int n)
    {
        singleLinkedList *fast = head;
        singleLinkedList *slow = head;

        while (n)
        {
            n--;
            fast = fast->next;
        }
        fast = fast->next;

        while (fast)
        {
            fast = fast->next;
            slow = slow->next;
        }
        singleLinkedList *tmp = slow->next;
        slow->next = slow->next->next;
        tmp->next = nullptr;

        return head;
    }

    // 翻转链表

    // 递归的方法
    singleLinkedList *reverseList1(singleLinkedList *head)
    {
        if (head == nullptr || head->next == nullptr)
        {
            return head;
        }

        singleLinkedList *tmp = reverseList1(head->next);

        head->next->next = head;
        head->next = nullptr;

        return tmp;
    }

    // 双指针法
    singleLinkedList *reverseList2(singleLinkedList *head)
    {
        singleLinkedList *cur = head;
        singleLinkedList *pre = nullptr;

        singleLinkedList *tmp;

        while (cur)
        {
            tmp = cur->next;
            cur->next = pre;
            pre = cur;
            cur = tmp;
        }
        return pre;
    }

    // 两两交换链表的值
    singleLinkedList* swapPair(singleLinkedList *head)
    {
        // 需要虚拟节点，
         singleLinkedList *cur = head;
        
        while (cur->next != nullptr && cur->next->next != nullptr)
        {
            singleLinkedList *tmp1 = cur->next;
            singleLinkedList *tmp2 = cur->next->next->next;

            cur->next = cur->next->next;
            cur->next->next = tmp1;
            cur->next->next->next = tmp2;

            cur = cur->next->next;
        }

        return head->next;
    }
//打印list里面的值
    void printList(singleLinkedList* list){
        if(list == nullptr) return;
        cout<<"打印链表："<<endl;
        cout<<list->data;
        list = list->next;
        while (list)
        {
            /* code */
            cout<<"->"<<list->data;
            list = list->next;     
        }
        cout<<endl;
        
    }
int main()
{
    vector<int> num = {3,7,8,2,5,4,1};
    // 创建链表
    //虚拟头节点
    singleLinkedList* dummyHead = new singleLinkedList();
    singleLinkedList* list = createList(dummyHead,num);
    cout<<"创建的链表,";
    printList(list->next);
    
    singleLinkedList* reverseList =reverseList1(list->next);
    cout<<"翻转链表";
    printList(reverseList);
   


    singleLinkedList* swapList = swapPair(list);
    cout<<"两两交换元素";
    printList(swapList);
  
    //删除倒数第n个元素
    int n = 3;
    cout<<"删除倒数第"<<n<<"个元素";

    singleLinkedList* deleteElement = removeLastNElement(list->next,n);
    printList(deleteElement);

    singleLinkedList* insertElementList = insertElement(list->next,3,10);
    cout<<"在第"<<3<<"个位置插入元素"<<10<<endl;
    printList(insertElementList);

    

    return 0;
} 

```
